{% extends "Template.html" %}
{% load static %}

{% block estilos %}
    <link rel="stylesheet" href="{% static 'css/index.css' %}">
    <link rel="stylesheet" href="{% static 'css/modals.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.css">
    <script src="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.min.js"></script>
    <script src="{% static 'js/slider.js' %}"></script>
    <script src="{% static 'js/carrito.js' %}"></script>
    
{% endblock estilos %}

{% block contenido %}
<main class="container my-4" id="cartList">
	<!-- Featured Products -->
	<h3 class="my-4 border-bottom pb-1">Cart ({{totalitems}})</h3>
	<table class="table table-bordered">
		<thead>
			<tr>
				<th>Producto</th>
				<th>Cantidad</th>
				<th>Precio</th>
				<th>Total</th>
			</tr>
		</thead>
		<tbody>
			{% for prodId,item in cart_data.items %}
			<tr>
				<td>
					<img src="{{item.imagen}}" width="50" />
					<p><a href="/product/{{item.nombre|slugify}}/{{prodId}}">{{item.nombre}}</a></p>
				</td>
				<td>
					<input type="number" class="cant{{prodId}}" value="{{item.cant}}" style="vertical-align: bottom;" />
					<button class="btn btn-sm btn-primary update-item" data-item="{{prodId}}">Actualizar</button>
					<button class="btn btn-sm btn-danger delete-item" data-item="{{prodId}}">Eliminar</i></button>
				</td>
				<td>$ {{item.precio}}</td>
				<td>$ {% widthratio item.precio 1 item.cant %}</td>
			</tr>
			{% endfor %}
		</tbody>
		<tfoot>
			<tr>
				<td colspan="2"></td>
				<th>Total</th>
				<th>$ {{total_amt}}</th>
			</tr>
			{% if totalitems %}
			<tr>
				<td colspan="4" align="right">
					<a href="#" class="btn btn-dark btn-sm">Checkout <i class="fa fa-long-arrow-alt-right"></i></a>
				</td>
			</tr>
			{% endif %}
		</tfoot>
	</table>
</main>
{% endblock contenido %}